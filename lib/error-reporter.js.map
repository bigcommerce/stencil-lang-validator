{"version":3,"sources":["../src/lib/error-reporter.js"],"names":["reportErrors","errors","groupedErrors","forEach","file","langFile","key","line","formattedLine","gray","formattedKey","yellow","langFileName","basename","length"],"mappings":";;;;;;;;;;QAYgBA,Y,GAAAA,Y;;AAZhB;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;AACA;;;;AAEA;;;;;AAKO,SAASA,YAAT,CAAsBC,MAAtB,EAA8B;AACjC,QAAMC,gBAAgB,qBAAQD,MAAR,EAAgB,MAAhB,CAAtB;;AAEA,wBAAYC,aAAZ,EAA2BC,OAA3B,CAAmC,UAACC,IAAD,EAAU;AACzC,kCAAWA,IAAX;;AAEAF,sBAAcE,IAAd,EAAoBD,OAApB,CAA4B,gBAA6B;AAAA,gBAA1BE,QAA0B,QAA1BA,QAA0B;AAAA,gBAAhBC,GAAgB,QAAhBA,GAAgB;AAAA,gBAAXC,IAAW,QAAXA,IAAW;;AACrD,gBAAMC,gBAAgB,gBAAMC,IAAN,CAAW,wBAAOF,IAAP,EAAe,CAAf,CAAX,CAAtB;AACA,gBAAMG,eAAe,gBAAMC,MAAN,CAAaL,GAAb,CAArB;AACA,gBAAMM,eAAe,eAAKC,QAAL,CAAcR,QAAd,CAArB;;AAEA,wCAAaG,aAAb,SAA8BE,YAA9B,2BAAgEE,YAAhE;AACH,SAND;;AAQA,6BAAQ,EAAR;AACH,KAZD;;AAcA,QAAIX,OAAOa,MAAP,GAAgB,CAApB,EAAuB;AACnB,0CAAcb,OAAOa,MAArB,SAA+B,yBAAU,SAAV,EAAqBb,OAAOa,MAA5B,CAA/B;AACH,KAFD,MAEO;AACH,gCAAW,oBAAX;AACH;AACJ","file":"error-reporter.js","sourcesContent":["import chalk from 'chalk';\nimport pad from 'pad';\nimport path from 'path';\nimport pluralize from 'pluralize';\nimport { groupBy } from 'lodash';\nimport { logError, logInfo, logSuccess } from './logger';\n\n/**\n * Report errors in the log\n * @param {ValidationError[]} errors\n * @return {void}\n */\nexport function reportErrors(errors) {\n    const groupedErrors = groupBy(errors, 'file');\n\n    Object.keys(groupedErrors).forEach((file) => {\n        logInfo(`${file}`);\n\n        groupedErrors[file].forEach(({ langFile, key, line }) => {\n            const formattedLine = chalk.gray(pad(`${line}`, 5));\n            const formattedKey = chalk.yellow(key);\n            const langFileName = path.basename(langFile);\n\n            logInfo(`  ${formattedLine} ${formattedKey} is not defined in ${langFileName}`);\n        });\n\n        logInfo('');\n    });\n\n    if (errors.length > 0) {\n        logError(`✗ ${errors.length} ${pluralize('problem', errors.length)} found`);\n    } else {\n        logSuccess('✓ 0 problems found');\n    }\n}\n"]}